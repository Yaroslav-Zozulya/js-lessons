{"version":3,"sources":["js/module_12/get-refs.js","js/module_12/api-service.js","js/module_12/fetch-api.js"],"names":["getRefs","pokemonCard","document","querySelector","searchForm","searchInput","BASE_URL","fetchPokemon","pokemonId","fetch","then","response","json","refs","onSearch","e","preventDefault","value","renderPokemonCard","catch","onFetchError","finally","reset","abilities","sprites","name","weight","height","ability","map","join","markup","front_default","innerHTML","error","console","log","alert","addEventListener","URL","options","headers"],"mappings":";AAMC,aANc,SAASA,IACf,MAAA,CACLC,YAAaC,SAASC,cAAc,oBACpCC,WAAYF,SAASC,cAAc,mBACnCE,YAAaH,SAASC,cAAc,oBAEvC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA;;;;ACEc,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EARf,MAAMG,EAAW,qBAEjB,SAASC,EAAaC,GACbC,OAAAA,SAASH,oBAA2BE,KAAaE,KAAKC,GACpDA,EAASC,QAIL,IAAA,EAAA,CAAEL,aAAAA,GAAF,QAAA,QAAA;;ACsDf,aA9DA,IAAA,EAAA,EAAA,QAAA,eAEA,QAAA,wBACA,IAAA,EAAA,EAAA,QAAA,kBA2DA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA1DA,MAAMM,GAAO,EAAb,EAAA,WAIA,SAASC,EAASC,GAChBA,EAAEC,iBAEIR,MAAAA,EAAYK,EAAKR,YAAYY,MAE/BV,EAAAA,QAAAA,aAAaC,GACdE,KAAKQ,GACLC,MAAMC,GACNC,QAAQ,IAAMR,EAAKT,WAAWkB,SAGnC,SAASJ,GAAkB,UAAEK,EAAF,QAAaC,EAAb,KAAsBC,EAAtB,OAA4BC,EAA5B,OAAoCC,IACvDC,MAAAA,EAAUL,EACbM,IAAID,mCAA2CA,EAAQA,QAAQH,aAC/DK,KAAK,KAEFC,qEACsCP,EAAQQ,0GAEdP,+CACFC,iDACCC,sGAGxBC,mDAKbf,EAAKZ,YAAYgC,UAAYF,EAG/B,SAASX,EAAac,GACpBC,QAAQC,IAAIF,GACZG,qBAAqBH,KApCvBrB,EAAKT,WAAWkC,iBAAiB,SAAUxB,GAyC3C,MAAMyB,EAAM,4CACNC,EAAU,CACdC,QAAS,CACM,YAAA,qCAIjBhC,MAAM,oFAAqF,CACzFgC,QAAS,CACM,YAAA,sCAGd/B,KAAKC,GAAYA,EAASC,QAC1BF,KAAKC,GAAYwB,QAAQC,IAAIzB,IAEhCF,MAAM8B,EAAKC,GACR9B,KAAKC,GAAYA,EAASC,QAC1BF,KAAKyB,QAAQC","file":"fetch-api.2751fbbe.js","sourceRoot":"../src","sourcesContent":["export default function getRefs() {\n  return {\n    pokemonCard: document.querySelector('.js-pokemon-card'),\n    searchForm: document.querySelector('.js-search-form'),\n    searchInput: document.querySelector('.js-search-text'),\n  };\n}\n","const BASE_URL = 'https://pokeapi.co';\n\nfunction fetchPokemon(pokemonId) {\n  return fetch(`${BASE_URL}/api/v2/pokemon/${pokemonId}`).then(response => {\n    return response.json();\n  });\n}\n\nexport default { fetchPokemon };\n","import getRefs from './get-refs';\n\nimport '../../sass/main.scss';\nimport API from './api-service';\nconst refs = getRefs();\n\nrefs.searchForm.addEventListener('submit', onSearch);\n\nfunction onSearch(e) {\n  e.preventDefault();\n\n  const pokemonId = refs.searchInput.value;\n\n  API.fetchPokemon(pokemonId)\n    .then(renderPokemonCard)\n    .catch(onFetchError)\n    .finally(() => refs.searchForm.reset());\n}\n\nfunction renderPokemonCard({ abilities, sprites, name, weight, height }) {\n  const ability = abilities\n    .map(ability => ` <li class=\"list-group-item\">${ability.ability.name}</li>`)\n    .join(' ');\n\n  const markup = `<div class=\"card\">\n        <div class=\"card-img-top\"><img src=\"${sprites.front_default}\" alt=\"\" /></div>\n        <div class=\"card-body\">\n          <h2 class=\"card-title\">Имя: ${name}</h2>\n          <p class=\"card-text\">Вес: ${weight}кг</p>\n          <p class=\"card-text\">Рост: ${height}м</p>\n          <p class=\"card-text\">Умения</p>\n          <ul class=\"list-group\">\n             ${ability}\n          </ul>\n        </div>\n      </div>`;\n\n  refs.pokemonCard.innerHTML = markup;\n}\n\nfunction onFetchError(error) {\n  console.log(error);\n  alert(`Всё в говне ${error}`);\n}\n\n/* FETCH API */\n\nconst URL = 'https://newsapi.org/v2/everything?q=putin';\nconst options = {\n  headers: {\n    'X-Api-Key': '2c0c2ef4d79449a7b94dbbfe07d82cd9',\n  },\n};\n\nfetch('https://newsapi.org/v2/everything?q=putin&apiKey=2c0c2ef4d79449a7b94dbbfe07d82cd9', {\n  headers: {\n    'X-Api-Key': '2c0c2ef4d79449a7b94dbbfe07d82cd9',\n  },\n})\n  .then(response => response.json())\n  .then(response => console.log(response));\n\nfetch(URL, options)\n  .then(response => response.json())\n  .then(console.log);\n"]}