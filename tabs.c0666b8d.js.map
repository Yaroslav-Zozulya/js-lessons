{"version":3,"sources":["js/tabs/tabs.js"],"names":["Tabs","constructor","rootSelector","activeControlClass","activePaneClass","defaultActiveTab","_refs","_getRefs","_activeControlClass","_activePaneClass","_defaultActiveTab","_bindEvents","_setActiveTab","root","refs","controls","document","querySelector","panes","addEventListener","_onControlClick","bind","event","preventDefault","target","nodeName","console","log","_removeActiveTab","controlItem","classList","add","paneId","_getPaneId","_setActivePane","controlItems","control","querySelectorAll","currentActiveControlItem","remove","_removeActivePane","_getPaneById","getAttribute","slice","tabs1"],"mappings":";;;AAqIA,aArIA,QAAA,wBAEA,MAAMA,EACJC,aAAY,aACVC,EADU,mBAEVC,EAAqB,SAFX,gBAGVC,EAAkB,SAHR,iBAIVC,EAAmB,IAEdC,KAAAA,MAAQ,KAAKC,SAASL,GACtBM,KAAAA,oBAAsBL,EACtBM,KAAAA,iBAAmBL,EACnBM,KAAAA,kBAAoBL,EAAmB,EAEvCM,KAAAA,cACAC,KAAAA,gBAGPL,SAASM,GACDC,MAAAA,EAAO,GAKNA,OAHPA,EAAKC,SAAWC,SAASC,iBAAiBJ,qBAC1CC,EAAKI,MAAQF,SAASC,iBAAiBJ,kBAEhCC,EAETH,cACOL,KAAAA,MAAMS,SAASI,iBAAiB,QAAS,KAAKC,gBAAgBC,KAAK,OAE1ED,kBAGME,GAFJA,MAAMC,iBAEwB,MAA1BD,MAAME,OAAOC,SAEf,YADAC,QAAQC,IAAI,cAITC,KAAAA,mBAECC,MAAAA,EAAcP,MAAME,OAC1BK,EAAYC,UAAUC,IAAI,KAAKvB,qBAEzBwB,MAAAA,EAAS,KAAKC,WAAWJ,GAC1BK,KAAAA,eAAeF,GAGtBpB,gBACQuB,MACAC,EADe,KAAK9B,MAAMS,SAASsB,iBAAiB,KAC7B,KAAK3B,mBAElC0B,EAAQN,UAAUC,IAAI,KAAKvB,qBAErBwB,MAAAA,EAAS,KAAKC,WAAWG,GAC1BF,KAAAA,eAAeF,GAGtBJ,mBACQU,MAAAA,EAA2B,KAAKhC,MAAMS,SAASE,kBAC/C,KAAKT,uBAGP,IAAC8B,EACH,OAGFA,EAAyBR,UAAUS,OAAO,KAAK/B,qBACzCwB,MAAAA,EAAS,KAAKC,WAAWK,GAC1BE,KAAAA,kBAAkBR,GAGzBE,eAAeF,GACA,KAAKS,aAAaT,GAC1BF,UAAUC,IAAI,KAAKtB,kBAG1B+B,kBAAkBR,GACH,KAAKS,aAAaT,GAC1BF,UAAUS,OAAO,KAAK9B,kBAG7BwB,WAAWG,GACFA,OAAAA,EAAQM,aAAa,QAAQC,MAAM,GAE5CF,aAAaT,GACJ,OAAA,KAAK1B,MAAMY,MAAMD,kBAAkBe,MAI9C,MAAMY,EAAQ,IAAI5C,EAAK,CACrBE,aAAc,UACdC,mBAAoB,yBACpBC,gBAAiB,eACjBC,iBAAkB","file":"tabs.c0666b8d.js","sourceRoot":"../src","sourcesContent":["import '../../sass/main.scss';\n\nclass Tabs {\n  constructor({\n    rootSelector,\n    activeControlClass = 'active',\n    activePaneClass = 'active',\n    defaultActiveTab = 1,\n  }) {\n    this._refs = this._getRefs(rootSelector);\n    this._activeControlClass = activeControlClass;\n    this._activePaneClass = activePaneClass;\n    this._defaultActiveTab = defaultActiveTab - 1;\n\n    this._bindEvents();\n    this._setActiveTab();\n  }\n\n  _getRefs(root) {\n    const refs = {};\n\n    refs.controls = document.querySelector(`${root} [data-controls]`);\n    refs.panes = document.querySelector(`${root} [data-panes]`);\n\n    return refs;\n  }\n  _bindEvents() {\n    this._refs.controls.addEventListener('click', this._onControlClick.bind(this));\n  }\n  _onControlClick() {\n    event.preventDefault();\n\n    if (event.target.nodeName !== 'A') {\n      console.log('miss click');\n      return;\n    }\n\n    this._removeActiveTab();\n\n    const controlItem = event.target;\n    controlItem.classList.add(this._activeControlClass);\n\n    const paneId = this._getPaneId(controlItem);\n    this._setActivePane(paneId);\n  }\n\n  _setActiveTab() {\n    const controlItems = this._refs.controls.querySelectorAll('a');\n    const control = controlItems[this._defaultActiveTab];\n\n    control.classList.add(this._activeControlClass);\n\n    const paneId = this._getPaneId(control);\n    this._setActivePane(paneId);\n  }\n\n  _removeActiveTab() {\n    const currentActiveControlItem = this._refs.controls.querySelector(\n      `.${this._activeControlClass}`,\n    );\n\n    if (!currentActiveControlItem) {\n      return;\n    }\n\n    currentActiveControlItem.classList.remove(this._activeControlClass);\n    const paneId = this._getPaneId(currentActiveControlItem);\n    this._removeActivePane(paneId);\n  }\n\n  _setActivePane(paneId) {\n    const pane = this._getPaneById(paneId);\n    pane.classList.add(this._activePaneClass);\n  }\n\n  _removeActivePane(paneId) {\n    const pane = this._getPaneById(paneId);\n    pane.classList.remove(this._activePaneClass);\n  }\n\n  _getPaneId(control) {\n    return control.getAttribute('href').slice(1);\n  }\n  _getPaneById(paneId) {\n    return this._refs.panes.querySelector(`#${paneId}`);\n  }\n}\n\nconst tabs1 = new Tabs({\n  rootSelector: '#tabs-1',\n  activeControlClass: 'controls__item--active',\n  activePaneClass: 'pane--active',\n  defaultActiveTab: 1,\n});\n\n// const refs = {\n//   controls: document.querySelector('#tabs-1 [data-controls]'),\n//   panes: document.querySelector('#tabs-1 [data-panes]'),\n// };\n\n// refs.controls.addEventListener('click', onControlClick);\n\n// function onControlClick() {\n//   event.preventDefault();\n\n//   if (event.target.nodeName !== 'A') {\n//     console.log('miss click');\n//     return;\n//   }\n\n//   const currentActiveControlItem = refs.controls.querySelector('.controls__item--active');\n\n//   if (currentActiveControlItem) {\n//     currentActiveControlItem.classList.remove('controls__item--active');\n\n//     const paneId = getPaneId(currentActiveControlItem);\n//     const pane = getPaneById(paneId);\n//     pane.classList.remove('pane--active');\n//   }\n\n//   const controlItem = event.target;\n//   controlItem.classList.add('controls__item--active');\n\n//   const paneId = getPaneId(controlItem);\n//   const pane = getPaneById(paneId);\n//   pane.classList.add('pane--active');\n// }\n\n// function getPaneId(control) {\n//   return control.getAttribute('href').slice(1);\n// }\n// function getPaneById(paneId) {\n//   return refs.panes.querySelector(`#${paneId}`);\n// }\n"]}